---
title: "Reduce Lap Time for Autonomous Racing with Curvature-Integrated MPCC Local Trajectory Planning Method"
collection: publications
category: PnC
permalink: /publication/cimpcc
date: 2024-07-10
paperteaser: "media/cimpcc/teaser.gif"
venue: "27th IEEE International Conference on Intelligent Transportation Systems"
venue-brief: "ITSC 2024"
venue-link: "https://ieee-itsc.org/2024/"
excerpt: "Zhouheng Li, Lei Xie, Cheng Hu, Hongye Su"
slidesurl: "https://zhouhengli.github.io/zhouhengli/files/cimpcc.pdf"
paperurl: "https://arxiv.org/abs/2502.03695"
code: "https://github.com/zhouhengli/CiMPCC"
weight: 3
citation: "Li Z, Xie L, Hu C, et al. Reduce Lap Time for Autonomous Racing with Curvature-Integrated MPCC Local Trajectory Planning Method[C]//2024 IEEE 27th International Conference on Intelligent Transportation Systems (ITSC). IEEE, 2024: 1066-1073."
citation-bib: "@inproceedings{li2024reduce,
  title={Reduce Lap Time for Autonomous Racing with Curvature-Integrated MPCC Local Trajectory Planning Method},
  author={Li, Zhouheng and Xie, Lei and Hu, Cheng and Su, Hongye},
  booktitle={2024 IEEE 27th International Conference on Intelligent Transportation Systems (ITSC)},
  pages={1066--1073},
  year={2024},
  organization={IEEE}
}"
---

<div style="text-align: center;">
    <p>
  		Authors: <strong>Zhouheng Li</strong><sup>1</sup>, Lei Xie<sup>1</sup>, Cheng Hu<sup>1</sup>, Hongye Su<sup>1</sup>
    </p>
    <p>
      <sup>1</sup>Zhejiang University, Hangzhou, China
    </p>
    <p>
      [paper]
    </p>
  <strong style="font-size: 30px;">Abstract</strong>
</div>
<div style="text-align: justify;">
    <p style="font-size: 15px;">
        <span style="display: inline-block; text-indent: 2em;">
            The widespread application of autonomous driving technology has significantly advanced the field of autonomous racing. Model Predictive Contouring Control (MPCC) is a highly effective local trajectory planning method for autonomous racing. However, the traditional MPCC method struggles with racetracks that have significant curvature changes, limiting the performance of the vehicle during autonomous racing. <strong>To address this issue, we propose a curvature-integrated MPCC (CiMPCC) local trajectory planning method for autonomous racing. This method optimizes the velocity of the local trajectory based on the curvature of the racetrack centerline. </strong>The specific implementation involves mapping the curvature of the racetrack centerline to a reference velocity profile, which is then incorporated into the cost function for optimizing the velocity of the local trajectory. This reference velocity profile is created by normalizing and mapping the curvature of the racetrack centerline, thereby ensuring efficient and performance-oriented local trajectory planning in racetracks with significant curvature. The proposed CiMPCC method has been experimented on a self-built 1:10 scale F1TENTH racing vehicle deployed with ROS platform. The experimental results demonstrate that the proposed method achieves outstanding results on a challenging racetrack with sharp curvature, improving the overall lap time by <strong>11.4%</strong>-<strong>12.5%</strong> compared to other autonomous racing trajectory planning methods. Our code is available at <a href="https://github.com/zhouhengli/CiMPCC">https://github.com/zhouhengli/CiMPCC</a>.
        </span>
    </p>
</div>
<div style="text-align: center;">
    <img src="../media/cimpcc/alg1.png" alt="racing" style="width: 100%; height: auto;">
	<br>
</div>
<div style="text-align: center;">
    <img src="../media/cimpcc/alg3.png" alt="racing" style="width: 48%; height: auto;">
    <img src="../media/cimpcc/alg4.png" alt="racing" style="width: 48%; height: auto;">
	<br>
</div>

<div style="text-align: center;">
  <strong style="font-size: 30px;">F1TENTH Architecture</strong>
</div>
<div style="text-align: justify;">
    <p style="font-size: 15px;">
        <span style="display: inline-block; text-indent: 2em;">We build a <strong>1:10 scale autonomous racing vehicle based on the F1TENTH software system</strong>. This self-built 1:10 scale vehicle is designed for Driving, Drifting, and Racing Automation (DDRA). The  computational unit NUC runs ROS Melodic under Ubuntu 18.04 and the solver used for the optimization problem is CasADi. We utilize IMU, 2D lidar, and odometer data to construct the map through Cartographer ROS, and the localization is performed using particle filter. We simultaneously built an actual racetrack. In Fig. 6, the map after the completion of map construction using Cartographer ROS is presented through rviz visualization. </span>
    </p>
</div>


<div style="text-align: center;">
    <img src="../media/cimpcc/alg5.png" alt="racing" style="width: 100%; height: auto;">
	<br>
</div>


<div style="text-align: center;">
  <strong style="font-size: 30px;">Quantitative Results</strong>
</div>
<div style="text-align: justify;">
    <p style="font-size: 15px;">
        <span style="display: inline-block; text-indent: 2em;">It can be noted that MLT (mean lap time) of CiMPCC is decreased by <strong>11.8%</strong> compared to MPCC and by <strong>11.7%</strong> compared to RDM+OTG. According to the percentage of performance improvement, the CiMPCC method outperforms the traditional MPCC and RDM+OTG methods in terms of velocity and lap time. The schematic diagram of lap time, mean velocity of a single lap, and mean lap time (MLT) of seventeen laps during continuous autonomous racing is shown in Fig. 8. The statistical data on computation time of CiMPCC are shown in Fig. 9. Since CiMPCC is a nonlinear programming problem, we use the result of the previous instant as the warm start for the current instant. During the seventeen-lap run, over <strong>95%</strong> of CiMPCC computation times are less than <strong>0.0206</strong> seconds. This demonstrates that the computation efficiency of CiMPCC is sufficient for real-time computation.</span>
    </p>
</div>
<div style="text-align: center;">
    <img src="../media/cimpcc/alg6.png" alt="racing" style="width: 100%; height: auto;">
	<br>
</div>

<div style="text-align: center;">
    <img src="../media/cimpcc/alg9.png" alt="racing" style="width: 48%; height: auto;">
    <img src="../media/cimpcc/alg10.png" alt="racing" style="width: 48%; height: auto;">
	<br>
</div>



<div style="text-align: center;">
  <strong style="font-size: 30px;">Qualitative Results</strong>
</div>

<div style="text-align: justify;">
    <p style="font-size: 15px;">
        <span style="display: inline-block; text-indent: 2em;">It is evident that CiMPCC maintains low velocity in sections of high curvature due to the presence of the LTC.  In contrast, compared to MPCC, CiMPCC ensures higher velocity in sections with small curvature owing to the presence of the UTC. <strong>The reason MPCC fails to decelerate sufficiently in curved racetrack sections is its inability to account for the curvature of the centerline, leading to a failure to maintain velocity comparable to CiMPCC in sections with small curvature.</strong>strong>  Through the comparison and analysis of control inputs, it can be concluded that CiMPCC effectively models the NSC of the racetrack centerline. </span>
    </p>
</div>


<div style="text-align: center;">
    <img src="../media/cimpcc/alg7.png" alt="racing" style="width: 100%; height: auto;">
</div><br>

<div style="text-align: center;">
    <img src="../media/cimpcc/alg8.png" alt="racing" style="width: 100%; height: auto;">
</div><br>

<div style="text-align: center;">
    <video width="550" controls>
      <source src="../media/cimpcc/cimpcc.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
</div>

<!-- <strong style="font-size: 20px;">Graphical abstract</strong>

<img src="../media/cimpcc/Graphical_Abstract.jpg" alt="cimpcc" style="width: 100%; height: auto;"> -->
<!-- citation: 'TBA' -->
